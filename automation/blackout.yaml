---
- id: blackout_licht_keuken_uit
  alias: "[BLACKOUT] Licht keuken uit"
  trigger:
    - platform: event
      event_type: blackout
  action:
    - service: light.turn_off
      data:
        entity_id: light.keuken_groep_deconz
 
- id: blackout_licht_woonkamer_uit
  alias: "[BLACKOUT] Licht woonkamer uit"
  trigger:
    - platform: event
      event_type: blackout
  action:
    - service: light.turn_off
      data:
        entity_id: light.woonkamer_groep_deconz

- id: blackout_licht_gang_uit
  alias: "[BLACKOUT] Licht gang uit"
  trigger:
    - platform: event
      event_type: blackout
  action:
    - service: light.turn_off
      data:
        entity_id: light.gang_groep_deconz
    # Stop the cooldown timer, so movement will trigger the light in the
    # hallway to go on. If we triggered a blackout from within the living
    # room, we want the hallway light to work when going to bed for example.
    - wait_template: "{{ is_state('light.gang_groep_ha', 'off') }}"
      timeout: 5      
      continue_on_timeout: 'false'
    - service: timer.cancel
      data:
        entity_id: timer.gang_cooldown

- id: blackout_licht_toilet_uit
  alias: "[BLACKOUT] Licht toilet uit"
  trigger:
    - platform: event
      event_type: blackout
  action:
    - service: light.turn_off
      data:
        entity_id: light.toilet_groep_deconz

- id: blackout_licht_badkamer_uit
  alias: "[BLACKOUT] Licht badkamer uit"
  trigger:
    - platform: event
      event_type: blackout
  action:
    - service: light.turn_off
      data:
        entity_id: light.badkamer_groep_deconz

- id: blackout_licht_slaapkamer_uit
  alias: "[BLACKOUT] Licht slaapkamer uit"
  trigger:
    - platform: event
      event_type: blackout
  action:
    - service: light.turn_off
      data:
        entity_id: light.slaapkamer_groep_deconz

- id: blackout_ps4_uit
  alias: "[BLACKOUT] Playstation4 uit"
  description: >
    Reageert op een 'blackout' event door de Playstation4 uit te zetten.
  trigger:
    - platform: event
      event_type: blackout
  condition: []
  action:
    - service: media_player.turn_off
      data:
        entity_id: media_player.ps4

- id: blackout_woonkamer_stroom_uit
  alias: "[BLACKOUT] woonkamer stroom uit"
  description: >
    Reageert op een 'blackout' event door stroom uit te zetten in de woonkamer.
    Het script dat hiervoor wordt gestart zet ook de ambilite feature uit, aangezien
    die geen nut meer heeft zodra de stroom van de tv af is.
  trigger:
    - platform: event
      event_type: blackout
  condition: []
  action:
    - service: script.turn_on
      data:
        entity_id: script.zet_woonkamer_stroom_uit
