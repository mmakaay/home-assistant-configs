---
- id: blackout_lampen_uit
  alias: "[BLACKOUT EVENT] Lampen uit"
  description: Reageert op een 'blackout' event door de lampen uit te doen.
  trigger:
  - event_data: {}
    event_type: blackout
    platform: event
  condition: []
  action:
  - data:
      entity_id: light.keuken_groep_deconz
    service: light.turn_off
  - data:
      entity_id: light.woonkamer_groep_deconz
    service: light.turn_off


- id: blackout_enable_motion_cooldown
  alias: "[BLACKOUT EVENT] nachtlamp cooldown aanzetten"
  description: >
    Reageert op een 'blackout' event door de nachtlamp cooldown te activeren
  trigger:
    - event_data: {}
      event_type: blackout
      platform: event
  condition: []
  action:
    - service: timer.start
      data:
        entity_id: timer.keuken_cooldown
    - service: timer.start
      data:
        entity_id: timer.woonkamer_cooldown


- id: blackout_ps4_uit
  alias: "[BLACKOUT EVENT] Playstation 4 uit"
  description: >
    Reageert op een 'blackout' event door de playstation uit te zetten.
  trigger:
    - platform: event
      event_data: {}
      event_type: blackout
  condition: []
  action:
    - service: media_player.turn_off
      data:
        entity_id: media_player.ps4


- id: blackout_ambilite_uit
  alias: "[BLACKOUT EVENT] Ambilite uit"
  description: >
    Reageert op een 'blackout' event door de ambilite uit te zetten.
  trigger:
    - platform: event
      event_data: {}
      event_type: blackout
  condition: []
  action:
    - service: switch.turn_off
      data:
        entity_id: switch.ambilite


- id: blackout_stroom_uit
  alias: "[BLACKOUT EVENT] stroom uit"
  description: Reageert op een 'blackout' event door stekkerblokken uit te zetten
  trigger:
    - platform: event
      event_data: {}
      event_type: blackout
  condition: []
  action:
    - service: switch.turn_off
      data:
        entity_id: switch.switch_for_tv_amp_and_pickup
    - service: homeassistant.update_entity
      data:
        entity_id: switch.switch_for_tv_amp_and_pickup
    - service: switch.turn_off
      data:
        entity_id: switch.switch_stekker_links_van_de_bank
    - service: switch.turn_off
      data:
        entity_id: switch.switch_stekker_bij_de_tuindeuren


- id: start_blackout_from_dimmer
  alias: "[BLACKOUT EVENT] trigger met 'off' lang ingedrukt op dimmers"
  description: >
    Wanneer de uit-knop van de dimmer in de woonkamer of keuken lang wordt
    ingedrukt, dan wordt een blackout event gestuurd om alles uit te zetten.
  trigger:
    - device_id: 32d5b64e890f40879159f0c63b7c80fd
      domain: deconz
      platform: device
      subtype: turn_off
      type: remote_button_long_press
    - device_id: 4cb86a7dab7443f6acaff513255374b4
      domain: deconz
      platform: device
      subtype: turn_off
      type: remote_button_long_press
  condition: []
  action:
    - service: script.turn_on
      data:
        entity_id: script.trigger_blackout_event
